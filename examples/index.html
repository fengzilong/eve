<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>demo</title>
	</head>
	<body>
		<div id="app"></div>

		<script type="text/javascript" src="../dist/eve.js"></script>
		<script type="text/javascript">
			`
			{#if !helper[ a + b ](v)}
				<slot name="title"></slot>

				{ v + 1 && k ? '' : helper( helper( v ) ) }

				<div>
					abc
					{#inc content }
					def
				</div>

				<div @click="{ onClick($e) }"></div>
			{/if}

			{ a[ 1 + b * 2 ].b && c + 1 }
			{#if !helper[ a + b ](v)}{/if}
			{ v + 1 && k ? '' : helper( helper( v ) ) }
			`;

			`
			<a @click.prevent="{ onClick($e) }">{ isString( v ) ? v + 1 : 'hello' }</a>
			<input :value="{ v }" @keyup.enter="{ onEnter() }" />

			{#if v[b.c].length > 5}
				文字长度不能超过5
			{/if}

			{#each items + 1 as item}
				{ item + 1 }
			{/each}
			`;
			const App = Eve.extend( {
				data() {
					return {
						a: 1
					}
				},
				props: [ 'text', 'color' ],
				computed: {

				},
				methods: {
					isString( v ) {
						return typeof v === 'string'
					},

					onClick( e ) {
						console.log( 'clicked', e )
					},

					onEnter() {
						console.log( 'entered' );
					}
				},
				template:
				`
					<div>
						{#if aaa}
							<input type="text">Primary</input>
						{/if}
						{#if aaa}
							<input type="number">Outline</input>
						{/if}

						{#each items as a}
							<div class="eve">
								child1
							</div>
							<div class="eve" ref="v">
								child2
							</div>
						{/each}
					</div>
				`
				,

				// 实例被创建
				created() {
					console.log( 'I am created' );
				},

				// 被挂载到dom中
				attached() {
					console.log( 'I am attached' );
				},

				// 从dom中脱离
				detached() {
					console.log( 'I am detached' );
				},

				// 被销毁
				disposed() {
					console.log( 'I am disposed' );
				},
			} );

			console.log( '---\nApp' );
			console.dir( App );
			console.log( '---' );

			const app = new App();

			console.log( '---\napp' );
			console.log( app );
			console.log( '---' );

			app.$mount( '#app' );
		</script>
	</body>
</html>
